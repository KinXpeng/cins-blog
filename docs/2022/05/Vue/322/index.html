<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="KinXpeng"><meta name="copyright" content="KinXpeng"><meta name="generator" content="Hexo 5.4.2"><meta name="theme" content="hexo-theme-yun"><title>Vue 常见问题 | 倾倾倾风の小站</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.2.4/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="//at.alicdn.com/t/font_1140697_dxory92pb0h.js" async></script><script src="https://cdn.jsdelivr.net/npm/@unocss/runtime/mini.global.js"></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/png" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"blog.cins.cc","root":"/","title":"倾倾倾风","version":"1.8.11","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":null},"vendors":{"darken":"https://cdn.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><meta name="description" content="路由部分1.hash 路由创建 vue 项目时不需要作任何配置 2.route 路由（history 模式）需要后端专门设置 ngnix，vue 中需要单独配置 mode:&#39;history&#39; 导入组件时路径的写法可写为相对路径或者绝对路径 1）相对路径 import home from &quot;..&#x2F;views&#x2F;home.vue&quot; 2）绝对路径（@相对于 src 的目">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue 常见问题">
<meta property="og:url" content="https://blog.cins.cc/2022/05/Vue/322/index.html">
<meta property="og:site_name" content="倾倾倾风の小站">
<meta property="og:description" content="路由部分1.hash 路由创建 vue 项目时不需要作任何配置 2.route 路由（history 模式）需要后端专门设置 ngnix，vue 中需要单独配置 mode:&#39;history&#39; 导入组件时路径的写法可写为相对路径或者绝对路径 1）相对路径 import home from &quot;..&#x2F;views&#x2F;home.vue&quot; 2）绝对路径（@相对于 src 的目">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-05-28T11:37:56.000Z">
<meta property="article:modified_time" content="2022-06-07T01:39:16.154Z">
<meta property="article:author" content="KinXpeng">
<meta property="article:tag" content="Vue">
<meta name="twitter:card" content="summary"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="KinXpeng"><img width="96" loading="lazy" src="/images/avatar.jpg" alt="KinXpeng"></a><div class="site-author-name"><a href="/about/">KinXpeng</a></div><span class="site-name">倾倾倾风の小站</span><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">17</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">10</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">16</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://cins.cc" title="主页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-disc-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://wpa.qq.com/msgrd?v=3&amp;uin=578090135&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/KinXpeng" title="GitHub" target="_blank" style="color:#dd734f"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:kinxpeng@163.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://weibo.com/u/5123434857/home" title="微博" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="豆瓣" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=116809620" title="网易云音乐" target="_blank" style="color:#C10D0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/ling-feng-86-71" title="知乎" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/19802757" title="哔哩哔哩动画" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" title="微信公众号" target="_blank" style="color:#1AAD19"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-2-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/KinXpeng" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links" title="我的小伙伴们" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E9%83%A8%E5%88%86"><span class="toc-number">1.</span> <span class="toc-text">路由部分</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-hash-%E8%B7%AF%E7%94%B1"><span class="toc-number">1.1.</span> <span class="toc-text">1.hash 路由</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-route-%E8%B7%AF%E7%94%B1%EF%BC%88history-%E6%A8%A1%E5%BC%8F%EF%BC%89"><span class="toc-number">1.2.</span> <span class="toc-text">2.route 路由（history 模式）</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E7%BB%84%E4%BB%B6%E6%97%B6"><span class="toc-number">1.2.1.</span> <span class="toc-text">导入组件时</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE%E6%97%B6%E5%8F%AF%E5%B8%A6%E4%B8%8A%E5%8F%82%E6%95%B0"><span class="toc-number">1.3.</span> <span class="toc-text">动态路由配置时可带上参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%B8%E5%AF%B9%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0%E7%9A%84%E5%8F%98%E5%8C%96%E5%81%9A%E5%87%BA%E5%93%8D%E5%BA%94%E7%9A%84%E8%AF%9D%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%94%A8-watch-%E7%9B%91%E5%90%AC%E8%B7%AF%E7%94%B1"><span class="toc-number">1.4.</span> <span class="toc-text">相对路由参数的变化做出响应的话，可以用 watch 监听路由</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%88%96%E8%80%85%E4%BD%BF%E7%94%A8%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%ABbeforeRouteUpdate"><span class="toc-number">1.5.</span> <span class="toc-text">或者使用导航守卫beforeRouteUpdate:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC%E6%89%93%E5%BC%80%E6%96%B0%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.6.</span> <span class="toc-text">路由跳转打开新页面</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%85%83%E4%BF%A1%E6%81%AF"><span class="toc-number">1.7.</span> <span class="toc-text">路由元信息</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%80%BC"><span class="toc-number">2.</span> <span class="toc-text">父子组件传值</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E7%88%B6%E4%BC%A0%E5%AD%90"><span class="toc-number">2.1.</span> <span class="toc-text">1.父传子</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%AD%90%E4%BC%A0%E7%88%B6"><span class="toc-number">2.2.</span> <span class="toc-text">2.子传父</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E8%B7%AF%E7%94%B1%E4%BC%A0%E5%80%BC"><span class="toc-number">2.3.</span> <span class="toc-text">3.路由传值</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8C%BA%E5%88%AB"><span class="toc-number">2.3.1.</span> <span class="toc-text">区别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue-%E4%B8%AD%E4%BD%BF%E7%94%A8-rem-%E5%B8%83%E5%B1%80%E6%96%B9%E5%BC%8F%EF%BC%882-%E7%A7%8D%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">Vue 中使用 rem 布局方式（2 种）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#eslint-%E7%9A%84%E9%94%99%E8%AF%AF%E6%8F%90%E7%A4%BA"><span class="toc-number">4.</span> <span class="toc-text">eslint 的错误提示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BB%9A%E5%8A%A8%E6%9D%A1%E4%B8%8D%E6%98%BE%E7%A4%BA"><span class="toc-number">5.</span> <span class="toc-text">滚动条不显示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue-%E4%B8%AD%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC%E6%80%8E%E4%B9%88%E6%96%B0%E5%BC%80%E9%A1%B5%E9%9D%A2"><span class="toc-number">6.</span> <span class="toc-text">vue 中路由跳转怎么新开页面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%A4%84%E7%90%86"><span class="toc-number">7.</span> <span class="toc-text">文件下载接口的处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#elementUI-%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">8.</span> <span class="toc-text">elementUI 中的使用注意事项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue-%E4%B8%AD%E5%AE%9A%E4%B9%89-cookie-%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">9.</span> <span class="toc-text">Vue 中定义 cookie 的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%92%8C%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">10.</span> <span class="toc-text">开发环境和生产环境的配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue-%E4%B8%AD-cli2-%E6%90%AD%E5%BB%BA%E7%9A%84%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85%E6%97%B6%E5%9B%BE%E7%89%87-%E5%9B%BE%E6%A0%87%E4%B8%8D%E6%98%BE%E7%A4%BA"><span class="toc-number">11.</span> <span class="toc-text">Vue 中 cli2 搭建的项目打包时图片&#x2F;图标不显示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue-%E4%B8%AD%E8%A7%A3%E9%99%A4%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">12.</span> <span class="toc-text">Vue 中解除双向绑定的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%9C%B0%E5%9D%80%E4%B8%AD%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-number">13.</span> <span class="toc-text">获取地址中的参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%81%E8%A3%85-elementUI-%E7%9A%84-treeSelect-%E4%B8%8B%E6%8B%89%E6%A1%86"><span class="toc-number">14.</span> <span class="toc-text">封装 elementUI 的 treeSelect 下拉框</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E5%85%AC%E7%94%A8%E8%AF%B7%E6%B1%82%E6%8E%A5%E5%8F%A3%E8%BF%94%E5%9B%9E%E4%B8%BA-Promise-%E5%AF%B9%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">15.</span> <span class="toc-text">封装公用请求接口返回为 Promise 对的解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%9C%B0%E5%9D%80%E6%A0%8F%E5%8F%82%E6%95%B0"><span class="toc-number">16.</span> <span class="toc-text">获取地址栏参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D%E8%BF%94%E5%9B%9E%E6%96%B0%E6%95%B0%E7%BB%84"><span class="toc-number">17.</span> <span class="toc-text">数组去重返回新数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Avoided-redundant-navigation-to-current-location-%E2%80%9C-writeArticle%E2%80%9D"><span class="toc-number">18.</span> <span class="toc-text">Avoided redundant navigation to current location: “&#x2F;writeArticle”.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue-%E4%B8%AD%E4%BD%BF%E7%94%A8-scss-%E8%AE%BE%E7%BD%AE%E5%A4%9C%E9%97%B4%E6%A8%A1%E5%BC%8F"><span class="toc-number">19.</span> <span class="toc-text">vue 中使用 scss 设置夜间模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%AD%97%E4%BD%93%E5%B0%8F%E4%BA%8E-12px"><span class="toc-number">20.</span> <span class="toc-text">设置字体小于 12px</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Nuxt-js"><span class="toc-number"></span> <span class="toc-text">Nuxt.js</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#vue-%E4%B8%AD%E5%88%87%E6%8D%A2%E8%B7%AF%E7%94%B1%E7%9A%84%E6%97%B6%E5%80%99%E6%BB%9A%E5%8A%A8%E6%9D%A1%E5%88%B0%E8%BE%BE%E9%A1%B6%E9%83%A8"><span class="toc-number">0.1.</span> <span class="toc-text">vue 中切换路由的时候滚动条到达顶部</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%AD%89%E9%87%8F%E5%88%87%E5%88%86"><span class="toc-number">0.2.</span> <span class="toc-text">数组等量切分</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#css-%E4%B8%AD%E7%9A%84%E7%B2%98%E6%80%A7%E5%B8%83%E5%B1%80"><span class="toc-number">0.3.</span> <span class="toc-text">css 中的粘性布局</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E9%A1%B5%E9%9D%A2%E6%BB%9A%E5%8A%A8%E6%9D%A1%E6%BB%9A%E5%8A%A8%E7%9A%84%E6%96%B9%E5%90%91"><span class="toc-number">0.4.</span> <span class="toc-text">监听页面滚动条滚动的方向</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#js-%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E6%9C%88%E4%BB%BD%E7%9A%84%E8%B5%B7%E6%AD%A2%E6%97%A5%E6%9C%9F"><span class="toc-number">0.5.</span> <span class="toc-text">js 获取当前月份的起止日期</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue-config-js-%E9%85%8D%E7%BD%AE"><span class="toc-number">1.</span> <span class="toc-text">vue.config.js 配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Element-UI-%E4%B8%AD%E2%80%94Message-%E6%B6%88%E6%81%AF%E6%8F%90%E7%A4%BA%E6%AF%8F%E6%AC%A1%E5%8F%AA%E5%BC%B9%E5%87%BA-1-%E4%B8%AA%EF%BC%8C%E4%B8%8D%E8%83%BD%E5%90%8C%E6%97%B6%E5%87%BA%E7%8E%B0-2-%E4%B8%AA"><span class="toc-number">2.</span> <span class="toc-text">Element UI 中—Message 消息提示每次只弹出 1 个，不能同时出现 2 个</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="https://blog.cins.cc/2022/05/Vue/322/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="KinXpeng"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="倾倾倾风の小站"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Vue 常见问题</h1><div class="post-meta"><div class="post-time"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2022-05-28 19:37:56" itemprop="dateCreated datePublished" datetime="2022-05-28T19:37:56+08:00">2022-05-28</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="Modified: 2022-06-07 09:39:16" itemprop="dateModified" datetime="2022-06-07T09:39:16+08:00">2022-06-07</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/Vue/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">Vue</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/Vue/" style="--text-color:#4fc08d"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">Vue</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h4 id="路由部分"><a href="#路由部分" class="headerlink" title="路由部分"></a>路由部分</h4><h5 id="1-hash-路由"><a href="#1-hash-路由" class="headerlink" title="1.hash 路由"></a>1.hash 路由</h5><p>创建 vue 项目时不需要作任何配置</p>
<h5 id="2-route-路由（history-模式）"><a href="#2-route-路由（history-模式）" class="headerlink" title="2.route 路由（history 模式）"></a>2.route 路由（history 模式）</h5><p>需要后端专门设置 ngnix，vue 中需要单独配置 <code>mode:&#39;history&#39;</code></p>
<h6 id="导入组件时"><a href="#导入组件时" class="headerlink" title="导入组件时"></a>导入组件时</h6><p>路径的写法可写为相对路径或者绝对路径</p>
<p>1）相对路径</p>
<p><code>import home from &quot;../views/home.vue&quot;</code></p>
<p>2）绝对路径（@相对于 src 的目录）</p>
<p><code>import home from &quot;@/views/home.vue&quot;</code></p>
<h5 id="动态路由配置时可带上参数"><a href="#动态路由配置时可带上参数" class="headerlink" title="动态路由配置时可带上参数"></a>动态路由配置时可带上参数</h5><p><code>path:&quot;/home:id&quot;</code></p>
<p><code>this.$router.push(&#39;/home&#39;,query:&#123;info:123&#125;)</code></p>
<h5 id="相对路由参数的变化做出响应的话，可以用-watch-监听路由"><a href="#相对路由参数的变化做出响应的话，可以用-watch-监听路由" class="headerlink" title="相对路由参数的变化做出响应的话，可以用 watch 监听路由"></a>相对路由参数的变化做出响应的话，可以用 watch 监听路由</h5><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token literal-property property">watch</span><span class="token operator">:</span><span class="token punctuation">&#123;</span>
  <span class="token string-property property">"$route"</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>from<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">// 对路由变化做出响应</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="或者使用导航守卫beforeRouteUpdate"><a href="#或者使用导航守卫beforeRouteUpdate" class="headerlink" title="或者使用导航守卫beforeRouteUpdate:"></a>或者使用导航守卫<code>beforeRouteUpdate</code>:</h5><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">beforeRouteUpdate</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>from<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token comment">// 对路由变化做出响应</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h5 id="路由跳转打开新页面"><a href="#路由跳转打开新页面" class="headerlink" title="路由跳转打开新页面"></a>路由跳转打开新页面</h5><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> link <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/standardProUnit'</span><span class="token punctuation">,</span> <span class="token comment">//要跳转的路由</span>
  <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>link<span class="token punctuation">.</span>href<span class="token punctuation">,</span> <span class="token string">'_blank'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//打开新窗口</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="路由元信息"><a href="#路由元信息" class="headerlink" title="路由元信息"></a>路由元信息</h5><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/foo'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> Foo<span class="token punctuation">,</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">isLogin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">requireAuth</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 可通过this.$route访问元信息</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="父子组件传值"><a href="#父子组件传值" class="headerlink" title="父子组件传值"></a>父子组件传值</h4><h5 id="1-父传子"><a href="#1-父传子" class="headerlink" title="1.父传子"></a>1.父传子</h5><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&#x2F;&#x2F; 父组件
&lt;com-today :todayData&#x3D;&quot;navList&quot;&gt;&lt;&#x2F;com-today&gt;
data()&#123; return &#123; navList:[1,2,3] &#125; &#125; &#x2F;&#x2F; 子组件 props:[&#39;todayData&#39;] &#x2F;&#x2F; 可用this.todayData来调用，template里面&#123;&#123; todayData &#125;&#125;直接使用<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h5 id="2-子传父"><a href="#2-子传父" class="headerlink" title="2.子传父"></a>2.子传父</h5><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&#x2F;&#x2F; 子组件
&lt;p @click&#x3D;&quot;sendMsg&quot;&gt; 传值&lt;&#x2F;p&gt;

sendMsg()&#123; this.$emit(&#39;receiveMsg&#39;,this.msg) &#125;,<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&#x2F;&#x2F; 父组件
&lt;child @receiveMsg&#x3D;&quot;receive&quot;&gt;&lt;&#x2F;child&gt;

receive(data)&#123; console.log(data); &#125;,<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="3-路由传值"><a href="#3-路由传值" class="headerlink" title="3.路由传值"></a>3.路由传值</h5><h6 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h6><p>params：不在路由地址中显示，相当于 ajax 请求的 post 方式</p>
<p>query：传值会在路由地址中展示出来</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// params方式（用name跳转页面）</span>
<span class="token comment">// 不配置参数名时，页面刷新后参数会消失</span>
<span class="token number">1</span><span class="token punctuation">.</span>router<span class="token operator">/</span>index<span class="token punctuation">.</span>js中的配置
<span class="token punctuation">&#123;</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home/:id'</span><span class="token punctuation">,</span> <span class="token comment">//多个参数时 path:'/home/:id&amp;:name',</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'home'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/home.vue'</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
 <span class="token number">2.</span>页面中路由的传参
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"home"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">&#123;</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">&#125;</span>  <span class="token comment">// 多个参数时 params:&#123;id:this.id,name:this.name&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>


<span class="token comment">// query方式（用path跳转页面）</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">query</span><span class="token operator">:</span><span class="token punctuation">&#123;</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="Vue-中使用-rem-布局方式（2-种）"><a href="#Vue-中使用-rem-布局方式（2-种）" class="headerlink" title="Vue 中使用 rem 布局方式（2 种）"></a>Vue 中使用 rem 布局方式（2 种）</h4><ul>
<li><p>在 public 下的 index.html 页面中添加如下 js</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">fnResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onresize</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">fnResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fnResize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> deviceWidth <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth <span class="token operator">||</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>deviceWidth <span class="token operator">>=</span> <span class="token number">750</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    deviceWidth <span class="token operator">=</span> <span class="token number">750</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>deviceWidth <span class="token operator">&lt;=</span> <span class="token number">320</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    deviceWidth <span class="token operator">=</span> <span class="token number">320</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> deviceWidth <span class="token operator">/</span> <span class="token number">7.5</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>然后在写 css 就可以将 px 单位换成 rem</li>
<li>设置的比例是 100px=1rem</li>
</ul>
</li>
<li><p>或者安装插件引入</p>
<ul>
<li><p>首先安装 amfe-flexible 插件，在 main.js 里引入</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 1.安装插件</span>
npm i amfe<span class="token operator">-</span>flexible
<span class="token comment">// 2.在main.js中引入</span>
<span class="token keyword">import</span> <span class="token string">'amfe-flexible'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>再安装 postcss-px2rem 插件</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">npm i postcss<span class="token operator">-</span>px2rem<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li><p>在 package.json 中配置</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"postcss"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
   <span class="token property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
     <span class="token property">"autoprefixer"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
     <span class="token property">"postcss-px2rem"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
       <span class="token property">"remUnit"</span><span class="token operator">:</span> <span class="token number">37.5</span>
     <span class="token punctuation">&#125;</span>
   <span class="token punctuation">&#125;</span>
 <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>在.vue 文件里。样式直接写 px 单位就可以了。在浏览器查看时会自动转换为 rem 单位。如果字体还想用 px。那就这样将 px 大写。就不会编译为 rem 单位了。样式就可以实现 px。</p>
</li>
</ul>
</li>
</ul>
<h4 id="eslint-的错误提示"><a href="#eslint-的错误提示" class="headerlink" title="eslint 的错误提示"></a>eslint 的错误提示</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// error  'clock_start' is assigned a value but never used</span>
<span class="token comment">// 在.eslintrc.js中的rules里加入下面这行</span>
<span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  <span class="token string-property property">"no-unused-vars"</span><span class="token operator">:</span> <span class="token string">'off'</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="滚动条不显示"><a href="#滚动条不显示" class="headerlink" title="滚动条不显示"></a>滚动条不显示</h4><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/**.class为类名**/</span>
<span class="token selector">.class::-webkit-scrollbar</span> <span class="token punctuation">&#123;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> //去掉滚动条，不能滚动了；
  <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> //可以滚动，且滚动条不显示；
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="vue-中路由跳转怎么新开页面"><a href="#vue-中路由跳转怎么新开页面" class="headerlink" title="vue 中路由跳转怎么新开页面"></a>vue 中路由跳转怎么新开页面</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> wrapUrl <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/wrap'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>wrapUrl<span class="token punctuation">.</span>href<span class="token punctuation">,</span> <span class="token string">'_blank'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="文件下载接口的处理"><a href="#文件下载接口的处理" class="headerlink" title="文件下载接口的处理"></a>文件下载接口的处理</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$axios</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/api/hlcloud-wms-app/inboundOrderStat/export'</span><span class="token punctuation">,</span> <span class="token comment">// 接口地址</span>
  <span class="token literal-property property">responseType</span><span class="token operator">:</span> <span class="token string">'blob'</span><span class="token punctuation">,</span> <span class="token comment">// 接收格式设置</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> dataObj<span class="token punctuation">,</span> <span class="token comment">// 参数</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// console.log(res)</span>
  <span class="token comment">// 如果后台传的请求头中有文件名</span>
  <span class="token comment">// console.log(encodeURI(res.headers['content-disposition']));</span>
  <span class="token keyword">let</span> excelName <span class="token operator">=</span> res<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-disposition'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// console.log(excelName)</span>
  <span class="token keyword">const</span> content <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
  <span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>content<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> fileName <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>excelName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//文件名解码（需要后端先进行编码,以防中文乱码）</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'download'</span> <span class="token keyword">in</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 非IE下载</span>
    <span class="token keyword">const</span> elink <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    elink<span class="token punctuation">.</span>download <span class="token operator">=</span> fileName<span class="token punctuation">;</span>
    elink<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
    elink<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>elink<span class="token punctuation">)</span><span class="token punctuation">;</span>
    elink<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">revokeObjectURL</span><span class="token punctuation">(</span>elink<span class="token punctuation">.</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 释放URL 对象</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>elink<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// IE10+下载</span>
    navigator<span class="token punctuation">.</span><span class="token function">msSaveBlob</span><span class="token punctuation">(</span>blob<span class="token punctuation">,</span> fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="elementUI-中的使用注意事项"><a href="#elementUI-中的使用注意事项" class="headerlink" title="elementUI 中的使用注意事项"></a>elementUI 中的使用注意事项</h4><ul>
<li>使用 required=”true”给 table 中的 label 加*号</li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-form-item</span> <span class="token attr-name">:required</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>活动类型<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>input<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-input</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-form-item</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<ul>
<li>获取 date 组件的日期格式</li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-date-picker</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getdate<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>daterange<span class="token punctuation">"</span></span> <span class="token attr-name">range-separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>至<span class="token punctuation">"</span></span> <span class="token attr-name">value-format</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yyyy-MM-dd HH:mm:ss<span class="token punctuation">"</span></span> <span class="token attr-name">start-placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>开始日期<span class="token punctuation">"</span></span> <span class="token attr-name">end-placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>结束日期<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-date-picker</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li><p>table 中列文字过多悬浮显示并隐藏</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">:</span>show<span class="token operator">-</span>overflow<span class="token operator">-</span>tooltip<span class="token operator">=</span><span class="token string">"true"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li><p>table 的 selection 表头多选框变为文字标题</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">/deep/ .el-table__header-wrapper .el-checkbox__input::after</span> <span class="token punctuation">&#123;</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">'全选'</span><span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>解决 table 中翻页序号连续递增的问题</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!--page为当前页码，rows为每页条数--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-table-column</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span> <span class="token attr-name">:index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(index)=>&#123;return (index+1) + (page-1)*rows&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-table-column</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
<li><p>el-input 输入框自动聚焦的方法</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>focusInput<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
<li><p>tree-node 中拼接每一级的数据</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">handleNodeClick</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span>node</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>placeFullName <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> num <span class="token operator">=</span> node<span class="token punctuation">.</span>level<span class="token punctuation">;</span>  <span class="token comment">// 获取当前点击的层级</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      node <span class="token operator">=</span> node<span class="token punctuation">.</span>parent<span class="token punctuation">;</span> <span class="token comment">// 赋值节点</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>placeFullName<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>data<span class="token punctuation">.</span>placeName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>placeFullName<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>placeName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>detailForm<span class="token punctuation">.</span>AssetItem<span class="token punctuation">.</span>placeName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>placeFullName<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>calendar 组件只生效当前月份点击事件</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* 日历中禁止非当前月点击事件 */</span>
<span class="token selector">::v-deep .el-calendar-table:not(.is-range) td.next,
::v-deep .el-calendar-table:not(.is-range) td.prev</span> <span class="token punctuation">&#123;</span>
  <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>table 加了固定头，内容可滚动，当滚到 table 底边时，点击分页后还在底边</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 先给table设置了ref="gridTable"</span>
<span class="token comment">// 点击分页的时候加上这句即可</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>gridTable<span class="token punctuation">.</span>bodyWrapper<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
</ul>
<p>-</p>
<h4 id="Vue-中定义-cookie-的方法"><a href="#Vue-中定义-cookie-的方法" class="headerlink" title="Vue 中定义 cookie 的方法"></a>Vue 中定义 cookie 的方法</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 定义设置cookie方法</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setCookie</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> day</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>day <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//当设置的时间等于0时，不设置expires属性，cookie在浏览器关闭后删除</span>
    <span class="token keyword">var</span> curDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> curTamp <span class="token operator">=</span> curDate<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> curWeeHours <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>curDate<span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> passedTamp <span class="token operator">=</span> curTamp <span class="token operator">-</span> curWeeHours<span class="token punctuation">;</span>
    <span class="token keyword">var</span> leftTamp <span class="token operator">=</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">1000</span> <span class="token operator">-</span> passedTamp<span class="token punctuation">;</span>
    <span class="token keyword">var</span> leftTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    leftTime<span class="token punctuation">.</span><span class="token function">setTime</span><span class="token punctuation">(</span>leftTamp <span class="token operator">+</span> curTamp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> name <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span> <span class="token function">escape</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">';expires='</span> <span class="token operator">+</span> leftTime<span class="token punctuation">.</span><span class="token function">toGMTString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> name <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span> <span class="token function">escape</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token comment">// 设置cookie</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token string">'AuthenticationToken'</span><span class="token punctuation">,</span> <span class="token string">'a9cd00f0b00b4371822c8f6069aba8d0'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="开发环境和生产环境的配置"><a href="#开发环境和生产环境的配置" class="headerlink" title="开发环境和生产环境的配置"></a>开发环境和生产环境的配置</h4><ul>
<li><p>/src 目录下新建<code>.env.development</code>文件</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token constant">NODE_ENV</span> <span class="token operator">=</span> <span class="token string">'development'</span><span class="token punctuation">;</span>
<span class="token constant">VUE_APP_FLAG</span> <span class="token operator">=</span> <span class="token string">'dev'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
<li><p>/src 目录下新建<code>.env.production</code>文件</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token constant">NODE_ENV</span> <span class="token operator">=</span> <span class="token string">'production'</span><span class="token punctuation">;</span>
<span class="token constant">VUE_APP_FLAG</span> <span class="token operator">=</span> <span class="token string">'pro'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
<li><p>main.js 中</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> url <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> baseUrl <span class="token operator">=</span> url<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'//'</span> <span class="token operator">+</span> url<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 判断环境</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_FLAG</span> <span class="token operator">===</span> <span class="token string">'pro'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> baseUrl<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> baseUrl<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
  axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">'/api'</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>router 文件中 index.js 的配置</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">base</span><span class="token operator">:</span> <span class="token string">'/wms/'</span><span class="token punctuation">,</span> <span class="token comment">//process.env.BASE_URL, 将默认的改为服务器下的文件路径</span>
  routes<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h4 id="Vue-中-cli2-搭建的项目打包时图片-图标不显示"><a href="#Vue-中-cli2-搭建的项目打包时图片-图标不显示" class="headerlink" title="Vue 中 cli2 搭建的项目打包时图片/图标不显示"></a>Vue 中 cli2 搭建的项目打包时图片/图标不显示</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//只需要在build/utils.js文件中找到vue-style-loader配置，为它新增（publicPath: '../../'）即可。</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>extract<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    <span class="token literal-property property">use</span><span class="token operator">:</span> loaders<span class="token punctuation">,</span>
    <span class="token literal-property property">fallback</span><span class="token operator">:</span> <span class="token string">'vue-style-loader'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">'../../'</span><span class="token punctuation">,</span> <span class="token comment">// 新增项</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">'vue-style-loader'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>loaders<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="Vue-中解除双向绑定的方法"><a href="#Vue-中解除双向绑定的方法" class="headerlink" title="Vue 中解除双向绑定的方法"></a>Vue 中解除双向绑定的方法</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 1.对对象进行深拷贝</span>
<span class="token comment">// 嵌套for循环赋值的问题也能用此方法解决</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2.Vue中自有的方法</span>
Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="获取地址中的参数"><a href="#获取地址中的参数" class="headerlink" title="获取地址中的参数"></a>获取地址中的参数</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 获取地址栏中的参数  name为参数的名字 函数会返回参数名所对应的参数值</span>
<span class="token function">getQueryString</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">"(^|&amp;)"</span><span class="token operator">+</span> name <span class="token operator">+</span><span class="token string">"=([^&amp;]*)(&amp;|$)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> r <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>r<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token keyword">return</span>  <span class="token function">unescape</span><span class="token punctuation">(</span>r<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="封装-elementUI-的-treeSelect-下拉框"><a href="#封装-elementUI-的-treeSelect-下拉框" class="headerlink" title="封装 elementUI 的 treeSelect 下拉框"></a>封装 elementUI 的 treeSelect 下拉框</h4><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;!--
  author:KinXpeng
  date:2020-5-20 09:24:00
  **** 使用案例
  &lt;tree-select
    :options&#x3D;&quot;treeData&quot;
    :defaultProps&#x3D;&quot;defaultProps&quot;
    :clearable&#x3D;&quot;true&quot;
    :accordion&#x3D;&quot;true&quot;
    @selectNode&#x3D;&quot;selectNode&quot;
  &gt;&lt;&#x2F;tree-select&gt;
  *** 1.options 为绑定的树状数据
  *** 2.defaultProps 为配置项，label和children
  *** 3.clearable 为是否可清除选择
  *** 4.accordion 为是否开启手风琴模式，只会展开一项
  *** 5.selectNode 为选中节点的回调函数，有两个参数（data，node），data为节点的数据
  ***   有清除按钮时，点击清除会触发selectNode函数，data为空，可通过判断data来设置选中的value为空
--&gt;
&lt;template&gt;
  &lt;div class&#x3D;&quot;treeSelect&quot;&gt;
    &lt;el-select v-model&#x3D;&quot;selectValue&quot; :clearable&#x3D;&quot;clearable&quot; @clear&#x3D;&quot;clearHandle&quot; :popper-class&#x3D;&quot;popperClass&quot; placeholder&#x3D;&quot;请选择&quot; ref&#x3D;&quot;tree_select&quot;&gt;
      &lt;el-option :value&#x3D;&quot;selectValue&quot; :label&#x3D;&quot;selectValue&quot; style&#x3D;&quot;height:auto&quot;&gt;
        &lt;el-tree class&#x3D;&quot;selectTree&quot; :data&#x3D;&quot;options&quot; :show-checkbox&#x3D;&quot;false&quot; ref&#x3D;&quot;selectTree&quot; highlight-current :props&#x3D;&quot;defaultProps&quot; :accordion&#x3D;&quot;accordion&quot; @node-click&#x3D;&quot;handleNodeClick&quot;&gt; &lt;&#x2F;el-tree&gt;
      &lt;&#x2F;el-option&gt;
    &lt;&#x2F;el-select&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  name: &#39;treeSelect&#39;,
  props: &#123;
    &#x2F;&#x2F; 树结构数据
    options: &#123;
      type: Array,
      default() &#123;
        return [];
      &#125;,
    &#125;,
    &#x2F;&#x2F; 配置项
    defaultProps: &#123;
      type: Object,
      default() &#123;
        return &#123;&#125;;
      &#125;,
    &#125;,
    &#x2F;&#x2F; 清除
    clearable: &#123;
      type: Boolean,
      default() &#123;
        return false;
      &#125;,
    &#125;,
    &#x2F;&#x2F; 是否打开手风琴模式
    accordion: &#123;
      type: Boolean,
      default() &#123;
        return false;
      &#125;,
    &#125;,
  &#125;,
  data() &#123;
    return &#123;
      selectValue: &#39;&#39;,
      popperClass: &#39;tree_select&#39;,
      isShowSelect: false,
    &#125;;
  &#125;,
  methods: &#123;
    &#x2F;&#x2F; 选中节点
    handleNodeClick(data, node) &#123;
      this.selectValue &#x3D; data[this.defaultProps.label];
      this.$emit(&#39;selectNode&#39;, data, node);
      this.$refs.tree_select.blur(); &#x2F;&#x2F; 选中后隐藏下拉框
    &#125;,
    &#x2F;&#x2F; 清除选择回调函数
    clearHandle() &#123;
      this.$emit(&#39;selectNode&#39;);
    &#125;,
  &#125;,
  created() &#123;&#125;,
&#125;;
&lt;&#x2F;script&gt;

&lt;style lang&#x3D;&quot;less&quot;&gt;
.treeSelect &#123;
  display: inline-block;
&#125;
.tree_select &#123;
  .el-select-dropdown__item &#123;
    padding: 0;
    .el-tree-node__label &#123;
      font-weight: normal;
    &#125;
    .el-tree-node &#123;
      padding: 5px 0;
    &#125;
  &#125;
  .el-select-dropdown__item.hover &#123;
    background: #fff;
    padding: 0;
    &amp;:hover &#123;
      background: #fff;
    &#125;
  &#125;
&#125;
.hide &#123;
  display: none !important;
&#125;
&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="封装公用请求接口返回为-Promise-对的解决方案"><a href="#封装公用请求接口返回为-Promise-对的解决方案" class="headerlink" title="封装公用请求接口返回为 Promise 对的解决方案"></a>封装公用请求接口返回为 Promise 对的解决方案</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">#### bus<span class="token punctuation">.</span>js文件
<span class="token comment">//  在公用的js中封装好统一的函数</span>
<span class="token comment">// 数据字典通用接口</span>
<span class="token keyword">function</span> <span class="token function">dictionaryList</span><span class="token punctuation">(</span><span class="token parameter">dictCode</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span> <span class="token comment">// 返回Promise对象</span>
    <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$http
      <span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>
        <span class="token string">"/hlcloud-ubp-app/dictDataQuery/listByExtend?dictCode="</span><span class="token operator">+</span>dictCode<span class="token operator">+</span><span class="token string">"&amp;objectDataOnly=false&amp;softProdCode=EAM"</span>
      <span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token string">"0"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">return</span> <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将请求的数据resolve出去</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token comment">// 异步处理返回的数据</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getDictionaryList</span><span class="token punctuation">(</span><span class="token parameter">dictCode</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> listData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">dictionaryList</span><span class="token punctuation">(</span>dictCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> listData<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">#### 调用的页面
<span class="token comment">// 使用.then() 将需要的数据从Promise对象拿到</span>
<span class="token comment">// 资源类型</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>bus<span class="token punctuation">.</span><span class="token function">getDictionaryList</span><span class="token punctuation">(</span><span class="token string">'ResourceType'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>resourcetypeList <span class="token operator">=</span> data<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="获取地址栏参数"><a href="#获取地址栏参数" class="headerlink" title="获取地址栏参数"></a>获取地址栏参数</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 获取地址栏中的参数(传入参数名称即可)</span>
<span class="token keyword">function</span> <span class="token function">getQueryString</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'(^|&amp;)'</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'=([^&amp;]*)(&amp;|$)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> r <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">unescape</span><span class="token punctuation">(</span>r<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="数组去重返回新数组"><a href="#数组去重返回新数组" class="headerlink" title="数组去重返回新数组"></a>数组去重返回新数组</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// a,b 为两个数组  其中a.length > b.length</span>
<span class="token function">arrSubtraction2</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&amp;&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token operator">=></span> <span class="token operator">!</span>b<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="Avoided-redundant-navigation-to-current-location-“-writeArticle”"><a href="#Avoided-redundant-navigation-to-current-location-“-writeArticle”" class="headerlink" title="Avoided redundant navigation to current location: “/writeArticle”."></a>Avoided redundant navigation to current location: “/writeArticle”.</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// this.$router.push() 时报错</span>
<span class="token comment">// 在router中的index.js中</span>
<span class="token keyword">const</span> originalPush <span class="token operator">=</span> <span class="token class-name">VueRouter</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>push<span class="token punctuation">;</span>

<span class="token class-name">VueRouter</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">push</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token parameter">location</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">originalPush</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> location<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=></span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="vue-中使用-scss-设置夜间模式"><a href="#vue-中使用-scss-设置夜间模式" class="headerlink" title="vue 中使用 scss 设置夜间模式"></a>vue 中使用 scss 设置夜间模式</h4><ul>
<li><p>安装 scss 依赖</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">npm install node<span class="token operator">-</span>sass <span class="token operator">--</span>save<span class="token operator">-</span>dev    <span class="token comment">//安装node-sass</span>
npm install sass<span class="token operator">-</span>loader <span class="token operator">--</span>save<span class="token operator">-</span>dev  <span class="token comment">//安装sass-loader</span>
npm install style<span class="token operator">-</span>loader <span class="token operator">--</span>save<span class="token operator">-</span>dev <span class="token comment">//安装style-loader</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
<li><p>在 src/assets 新建目录 scss，以及新建 dark.scss 主题文件</p>
<pre class="line-numbers language-scss" data-language="scss"><code class="language-scss"><span class="token comment">// scss样式</span>
<span class="token property"><span class="token variable">$themes</span></span><span class="token punctuation">:</span> <span class="token punctuation">(</span>
  <span class="token property">light</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>
    <span class="token property">background_color</span><span class="token punctuation">:</span> #cccccc<span class="token punctuation">,</span>
    <span class="token comment">//背景色</span>
    <span class="token property">text-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.65<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 主文本色</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token property">dark</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>
    <span class="token property">background_color</span><span class="token punctuation">:</span> #181c27<span class="token punctuation">,</span>
    <span class="token comment">//背景</span>
    <span class="token property">text-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 0.65<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 主文本色</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 处理样式，遍历主题map</span>
<span class="token keyword">@mixin</span> <span class="token selector">themeify </span><span class="token punctuation">&#123;</span>
  <span class="token keyword">@each</span> <span class="token selector"><span class="token variable">$theme-name</span>, <span class="token variable">$theme-map</span> in <span class="token variable">$themes</span> </span><span class="token punctuation">&#123;</span>
    <span class="token comment">//!global 把局部变量提升为全局变量</span>
    <span class="token property"><span class="token variable">$theme-map</span></span><span class="token punctuation">:</span> <span class="token variable">$theme-map</span> !global<span class="token punctuation">;</span>
    <span class="token comment">//判断html的data-theme的属性值  #&#123;&#125;是sass的插值表达式</span>
    <span class="token comment">//&amp; sass嵌套里的父容器标识   @content是混合器插槽，像vue的slot</span>
    <span class="token selector">[data-theme='<span class="token variable">#&#123;$theme-name&#125;</span>'] <span class="token parent important">&amp;</span> </span><span class="token punctuation">&#123;</span>
      <span class="token keyword">@content</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">//声明一个根据Key获取颜色的function</span>
<span class="token keyword">@function</span> <span class="token function">themed</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">@return</span> <span class="token function">map-get</span><span class="token punctuation">(</span><span class="token variable">$theme-map</span><span class="token punctuation">,</span> <span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 获取颜色</span>
<span class="token keyword">@mixin</span> background_<span class="token function">color</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">@include</span> <span class="token selector">themeify </span><span class="token punctuation">&#123;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">themed</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span> <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">//获取字体颜色</span>
<span class="token keyword">@mixin</span> font_<span class="token function">color</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">@include</span> <span class="token selector">themeify </span><span class="token punctuation">&#123;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">themed</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token punctuation">)</span> <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>在 main.js 中引入 dark.scss</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token string">'./assets/scss/dark.scss'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li><p>在 dark.vue 中使用</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div id&#x3D;&quot;darkMode&quot;&gt;
    &lt;div&gt;
      &lt;a class&#x3D;&quot;btn&quot; @click&#x3D;&quot;modelChange&quot;&gt;模式切换&lt;&#x2F;a&gt;
    &lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;
export default &#123;
  name: &#39;darkMode&#39;,
  data() &#123;
    return &#123;
      dark: false,
    &#125;;
  &#125;,
  methods: &#123;
    &#x2F;&#x2F; 使用方法
    modelChange() &#123;
      this.dark &#x3D; !this.dark;
      if (this.dark) &#123;
        window.document.documentElement.setAttribute(&#39;data-theme&#39;, &#39;dark&#39;);
      &#125; else &#123;
        window.document.documentElement.setAttribute(&#39;data-theme&#39;, &#39;light&#39;);
      &#125;
    &#125;,
  &#125;,
  mounted() &#123;
    window.document.documentElement.setAttribute(&#39;data-theme&#39;, &#39;light&#39;);
  &#125;,
&#125;;
&lt;&#x2F;script&gt;

&lt;style scoped lang&#x3D;&quot;scss&quot;&gt;
@import &#39;@&#x2F;assets&#x2F;scss&#x2F;common&#x2F;common&#39;;
#darkMode &#123;
  &#x2F;&#x2F;在此使用了背景颜色变量
  @include background_color(&#39;background_color&#39;);
  &#x2F;&#x2F;再次使用了文字颜色变量
  @include font_color(&#39;text-color&#39;);
  width: 100vw;
  height: 100vh;
  .btn &#123;
    width: 100px;
    height: 40px;
    margin: 0 auto;
  &#125;
&#125;
&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h4 id="设置字体小于-12px"><a href="#设置字体小于-12px" class="headerlink" title="设置字体小于 12px"></a>设置字体小于 12px</h4><pre><code><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">span</span><span class="token punctuation">&#123;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>.8<span class="token punctuation">)</span><span class="token punctuation">;</span> // 将字体缩小80%，即9.6px；如需更小，修改scale中的数值即可。
  <span class="token property">transform-origin</span><span class="token punctuation">:</span> 0 0<span class="token punctuation">;</span> // 设置后发现文字在原来的基础上偏移了，解决基点偏移问题。
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</code></pre>
<h3 id="Nuxt-js"><a href="#Nuxt-js" class="headerlink" title="Nuxt.js"></a>Nuxt.js</h3><ul>
<li><p>Nuxt.js 的使用</p>
</li>
<li><p>安装注意事项</p>
<ul>
<li><p>使用<code>npx create-nuxt-app myapp</code>安装</p>
</li>
<li><p>配置项信息安装官网默认选择</p>
</li>
<li><p>安装 scss 报错处理</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span>.安装scss依赖
<span class="token function">npm</span> <span class="token function">install</span> --save-dev node-sass sass-loader
<span class="token number">2</span>.在 nuxt.congig.js 文件里进行如下配置
modules: <span class="token punctuation">[</span>
	<span class="token string">'@nuxtjs/style-resources'</span>, // 导入模块
<span class="token punctuation">]</span>,
<span class="token number">3</span>.通常这样安装后会报错，提示node_modules错误等等，换个低版本的scss安装即可
<span class="token number">4</span>.npm <span class="token function">install</span> --save-dev sass sass-loader@10 fibers  // 可以指定版本号<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
</li>
<li><p>安装配置问题</p>
<ul>
<li><p>跨域配置（在 nuxt.config.js 中配置）</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token literal-property property">axios</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 配置代理</span>
  <span class="token literal-property property">prefix</span><span class="token operator">:</span><span class="token string">'/api'</span><span class="token punctuation">,</span> <span class="token comment">// 给请求的url前面加上'/api'</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  <span class="token string-property property">'/api'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://127.0.0.1:3000/'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否跨域</span>
    <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token string-property property">'^/api'</span><span class="token operator">:</span> <span class="token string">'/'</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>跨域之后在 vue 文件中如何使用 axios 请求接口</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token function">asyncData</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 使用context对象</span>
    <span class="token keyword">return</span> context<span class="token punctuation">.</span>$axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/menuList'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>修改项目启动端口，在 package.json 中配置</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"config"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"nuxt"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token property">"host"</span><span class="token operator">:</span> <span class="token string">"0.0.0.0"</span><span class="token punctuation">,</span>
      <span class="token property">"port"</span><span class="token operator">:</span> <span class="token string">"3333"</span>  <span class="token comment">// 所修改的端口号</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>1</p>
</li>
</ul>
</li>
<li><p>等等</p>
</li>
<li><p>Nuxt.js 中遇到的问题</p>
</li>
</ul>
<h5 id="vue-中切换路由的时候滚动条到达顶部"><a href="#vue-中切换路由的时候滚动条到达顶部" class="headerlink" title="vue 中切换路由的时候滚动条到达顶部"></a>vue 中切换路由的时候滚动条到达顶部</h5><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">scrollBehavior</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> savedPosition</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h5 id="数组等量切分"><a href="#数组等量切分" class="headerlink" title="数组等量切分"></a>数组等量切分</h5><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 第一个参数为需要切分的数组，第二个参数为切分的大小</span>
<span class="token keyword">function</span> <span class="token function">splitData</span><span class="token punctuation">(</span><span class="token parameter">list<span class="token punctuation">,</span> size</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> list<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i <span class="token operator">+=</span> size<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> i <span class="token operator">+</span> size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="css-中的粘性布局"><a href="#css-中的粘性布局" class="headerlink" title="css 中的粘性布局"></a>css 中的粘性布局</h5><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/*此属性会自动监听scroll属性，仅限在外层盒子的滚动中生效，外层有overflow:hidden时不生效*/</span>
<span class="token property">position</span><span class="token punctuation">:</span> sticky<span class="token punctuation">;</span>
<span class="token property">position</span><span class="token punctuation">:</span> -webkit-sticky<span class="token punctuation">;</span>
<span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="监听页面滚动条滚动的方向"><a href="#监听页面滚动条滚动的方向" class="headerlink" title="监听页面滚动条滚动的方向"></a>监听页面滚动条滚动的方向</h5><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// data</span>
<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">scrollAction</span><span class="token operator">:</span><span class="token punctuation">&#123;</span>
      <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token string">'undefined'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token string">'undefined'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">scrollDirection</span><span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// methods</span>
<span class="token function">scrollFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scrollAction<span class="token punctuation">.</span>x <span class="token operator">==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollAction<span class="token punctuation">.</span>x <span class="token operator">=</span> window<span class="token punctuation">.</span>pageXOffset<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollAction<span class="token punctuation">.</span>y <span class="token operator">=</span> window<span class="token punctuation">.</span>pageYOffset<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">var</span> diffX <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scrollAction<span class="token punctuation">.</span>x <span class="token operator">-</span> window<span class="token punctuation">.</span>pageXOffset<span class="token punctuation">;</span>
  <span class="token keyword">var</span> diffY <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scrollAction<span class="token punctuation">.</span>y <span class="token operator">-</span> window<span class="token punctuation">.</span>pageYOffset<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>diffX <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// Scroll right</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollDirection <span class="token operator">=</span> <span class="token string">'right'</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>diffX <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// Scroll left</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollDirection <span class="token operator">=</span> <span class="token string">'left'</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>diffY <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// Scroll down</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollDirection <span class="token operator">=</span> <span class="token string">'down'</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>diffY <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// Scroll up</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollDirection <span class="token operator">=</span> <span class="token string">'up'</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// First scroll event</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>scrollAction<span class="token punctuation">.</span>x <span class="token operator">=</span> window<span class="token punctuation">.</span>pageXOffset<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>scrollAction<span class="token punctuation">.</span>y <span class="token operator">=</span> window<span class="token punctuation">.</span>pageYOffset<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

<span class="token comment">// mounted</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"scroll"</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleScroll<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token comment">// destroyed</span>
<span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleScroll<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="js-获取当前月份的起止日期"><a href="#js-获取当前月份的起止日期" class="headerlink" title="js 获取当前月份的起止日期"></a>js 获取当前月份的起止日期</h5><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 格式化日期</span>
<span class="token function">getDateStr</span><span class="token punctuation">(</span><span class="token parameter">date</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> year <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> month <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> day <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> now <span class="token operator">=</span> date<span class="token punctuation">;</span>
  year <span class="token operator">=</span> <span class="token string">""</span><span class="token operator">+</span>now<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    month <span class="token operator">=</span> <span class="token string">"0"</span><span class="token operator">+</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
    month <span class="token operator">=</span> <span class="token string">""</span><span class="token operator">+</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    day <span class="token operator">=</span> <span class="token string">"0"</span><span class="token operator">+</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
    day <span class="token operator">=</span> <span class="token string">""</span><span class="token operator">+</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> year<span class="token operator">+</span><span class="token string">"-"</span><span class="token operator">+</span>month<span class="token operator">+</span><span class="token string">"-"</span><span class="token operator">+</span>day<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token comment">// 获取当前月份起止日期</span>
  <span class="token comment">// 参数0，当前月份，-1为上一个月，1为下个月</span>
  <span class="token function">getMonthStartAndEnd</span><span class="token punctuation">(</span><span class="token parameter">AddMonthCount</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//起止日期数组</span>
    <span class="token keyword">let</span> startStop <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//获取当前时间</span>
    <span class="token keyword">let</span> currentDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> month<span class="token operator">=</span>currentDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>AddMonthCount<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>month<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">-</span>month<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      month <span class="token operator">+=</span> n<span class="token operator">*</span><span class="token number">12</span><span class="token punctuation">;</span>
      currentDate<span class="token punctuation">.</span><span class="token function">setFullYear</span><span class="token punctuation">(</span>currentDate<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    currentDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>currentDate<span class="token punctuation">.</span><span class="token function">setMonth</span><span class="token punctuation">(</span>month<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//获得当前月份0-11</span>
    <span class="token keyword">let</span> currentMonth <span class="token operator">=</span> currentDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//获得当前年份4位年</span>
    <span class="token keyword">let</span> currentYear <span class="token operator">=</span> currentDate<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//获得上一个月的第一天</span>
    <span class="token keyword">let</span> currentMonthFirstDay <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>currentYear<span class="token punctuation">,</span> currentMonth<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//获得上一月的最后一天</span>
    <span class="token keyword">let</span> currentMonthLastDay <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>currentYear<span class="token punctuation">,</span> currentMonth<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//添加至数组</span>
    startStop<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDateStr</span><span class="token punctuation">(</span>currentMonthFirstDay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    startStop<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDateStr</span><span class="token punctuation">(</span>currentMonthLastDay<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//返回</span>
    <span class="token keyword">return</span> startStop<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="vue-config-js-配置"><a href="#vue-config-js-配置" class="headerlink" title="vue.config.js 配置"></a>vue.config.js 配置</h4><ul>
<li><p>减少打包体积，去除.map 文件</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">productionSourceMap</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 去掉打包后的map文件</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h4 id="Element-UI-中—Message-消息提示每次只弹出-1-个，不能同时出现-2-个"><a href="#Element-UI-中—Message-消息提示每次只弹出-1-个，不能同时出现-2-个" class="headerlink" title="Element UI 中—Message 消息提示每次只弹出 1 个，不能同时出现 2 个"></a>Element UI 中—Message 消息提示每次只弹出 1 个，不能同时出现 2 个</h4><ul>
<li><p>新建 <code>/utils/message.js</code></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//message.js</span>
<span class="token comment">/**重置message，防止重复点击重复弹出message消息提示 */</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Message <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'element-ui'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> messageInstance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">resetMessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>messageInstance<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    messageInstance<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  Message<span class="token punctuation">.</span><span class="token function">closeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//手动关闭所有消息提示实例</span>
  messageInstance <span class="token operator">=</span> <span class="token function">Message</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// console.log(Message(options));</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token string">'info'</span><span class="token punctuation">,</span> <span class="token string">'warning'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  resetMessage<span class="token punctuation">[</span>type<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> options <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      options <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token literal-property property">message</span><span class="token operator">:</span> options<span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    options<span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">resetMessage</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> message <span class="token operator">=</span> resetMessage<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p><code>main.js</code> 中引入，挂载到全局中</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> message <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'@/utils/message.js'</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementUI<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$message <span class="token operator">=</span> message<span class="token punctuation">;</span> <span class="token comment">// 挂载时在use后面，以便覆盖原有的提示</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li>
<li><p>使用方法和之前一样</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'提示信息'</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
</div></section><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="Donate" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">Can you give me a reward?</div><div id="qr" style="display:none;"><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://kinxpeng.oss-cn-beijing.aliyuncs.com/image/paycode/541668755686_.pic.jpg"><img loading="lazy" src="https://kinxpeng.oss-cn-beijing.aliyuncs.com/image/paycode/541668755686_.pic.jpg" alt="支付宝" title="支付宝"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://kinxpeng.oss-cn-beijing.aliyuncs.com/image/paycode/531668755685_.pic.jpg"><img loading="lazy" src="https://kinxpeng.oss-cn-beijing.aliyuncs.com/image/paycode/531668755685_.pic.jpg" alt="微信支付" title="微信支付"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>KinXpeng</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://blog.cins.cc/2022/05/Vue/322/" title="Vue 常见问题">https://blog.cins.cc/2022/05/Vue/322/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul><script>document.addEventListener('copy', function (event) {
  const clipboardData = event.clipboardData || window.clipboardData;
  if (!clipboardData) { return; }
  const text = window.getSelection().toString();
  if (text) {
    event.preventDefault();
    clipboardData.setData('text/plain', text + '\n\nPost author: KinXpeng\nPost link: https://blog.cins.cc/2022/05/Vue/322/\nCopyright Notice: All articles in this blog are licensed under CC BY-NC-SA 4.0 unless otherwise stated.');
  }
});</script></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/06/HTML/385/" rel="prev" title="HTML&amp;CSS基础知识"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">HTML&amp;CSS基础知识</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2022/05/react/321/" rel="next" title="React 基础配置信息"><span class="post-nav-text">React 基础配置信息</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2022 – 2023 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> KinXpeng</span></div><div class="live-time"><span>本博客已萌萌哒地运行</span><span id="display_live_time"></span><span class="moe-text">(●'◡'●)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2022-05-01T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = ` ${passDay} Days ${passHour} Hours ${passMinute} Minutes ${passSecond} Seconds`;
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><script>function initMourn() {
  const date = new Date();
  const today = (date.getMonth() + 1) + "-" + date.getDate()
  const mourn_days = ["4-4","9-18","11-30","12-1","12-2","12-3"]
  if (mourn_days.includes(today)) {
    document.documentElement.style.filter = "grayscale(1)";
  }
}
initMourn();</script></div></body></html>